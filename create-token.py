# coding=utf-8

from cryptography.hazmat.primitives import hashes
from cryptography.hazmat.primitives.asymmetric import rsa, padding
from cryptography.hazmat.backends import default_backend
from base64 import b64encode

N = int("6118949884542035758228165150480970484775948540894875675750019196760430437326375788316244083667312" +
        "1127912691592042082374698218570305709542452573367037247942794176360141330260796114161991634877520" +
        "9318638985939797245838394186947432815805159715295950796093763256835288557638341359755154607092758" +
        "2125876646350225386205170869478762584625481559337889894643589498753324189655838737003231877149808" +
        "0769782782986004968223577252545632595856348578972986803087375151523130980468315658731145540661959" +
        "6050525545290045046944269076387765616800870979827653118293545195314596061160131055834487112435567" +
        "4188026149535089147013264878621144892167844471212662659174643958985053020651238408715157877344829" +
        "6332175379863190146700888623219388047354669492295105275244771100851445677743253407525918517909312" +
        "1064757322245873728715200541955720319721861626588734157728068815156326358980514571916869090216857" +
        "1674529819233099030185697193927748667568997849788205951188943230054712902846136235791743994018772" +
        "7474047360851939145847078056327450140607700002648843419498134708391530606499524381440473803469993" +
        "9125774781194053568746989605638413082541876600142556111173865505734416200456890738357199900214109" +
        "565602296409823349451352963303084528108078854673626645830490080013931")
e = 65537
key = rsa.RSAPublicNumbers(e, int(N)).public_key(default_backend())

token = "Some test bytes.".encode('utf-8')
encrypted_token = key.encrypt(
    token,
    padding.OAEP(
        mgf=padding.MGF1(algorithm=hashes.SHA1()),
        algorithm=hashes.SHA1(),
        label=None
    )
)
with open("token.txt", 'w') as file:
    file.write(str(b64encode(encrypted_token), encoding='utf-8'))
